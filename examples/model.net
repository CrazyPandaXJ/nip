% Simple DBN model (an HMM actually): 
% A man lives in his house, sleeping or being awake (variable A1),
% and keeps his lights on (variable L1) usually only when awake.
% Daily (secret) activities are governed by transitions 
% (state of A1, given A0) and reflected in the (observed) lights.
%
% Author: Janne Toivola

%%% global properties of the network
net
{
    node_size = (80 40);
}

%%% random variables
node L1
{
    label = "Lights(t)";
    position = (200 100);
    states = ("on" "off");
}

node A1
{
    label = "Awake(t)";
    position = (200 200);
    states = ("awake" "sleep");
    NIP_next = "A0";
}

node A0
{
    label = "Awake(t)";
    position = (100 200);
    states = ("awake" "sleep");
}

% Emission probabilities: Lights on/off while awake/sleeping
potential (L1 | A1)
{
    data
     = (( 0.80 0.20 )	%  A1=awake
	( 0.01 0.99 ));	%  A1=sleep
}

% Transition probabilities between sleep/awake
potential (A1 | A0)
{
    data
     = (( 0.9 0.1 )	%  A0=awake
	( 0.1 0.9 ));	%  A0=sleep
}

% Prior for the first time step
potential (A0)
{
    data = ( 0.5 0.5 );
}
